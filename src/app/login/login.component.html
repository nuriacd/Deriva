<div class="container">
    <div class="row">
        <div class="col">
            <h2>Registro</h2>
            <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="registerEmail" formControlName="email" name="email" [class.is-invalid]="(registerForm.controls['email'].touched || registerSubmitted) && registerForm.controls['email'].invalid">
                    <label for="registerEmail">Correo electrónico</label>
                    <div class="invalid-feedback" *ngIf="registerForm.controls['email'].invalid && (registerForm.controls['email'].touched || registerSubmitted)">
                        <div *ngIf="registerForm.controls['email'].errors?.['required']">El correo electrónico es obligatorio</div>
                        <div *ngIf="registerForm.controls['email'].errors?.['email']">El correo electrónico no es válido</div>
                    </div>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="registerName" formControlName="name" name="name" [class.is-invalid]="(registerForm.controls['name'].touched || registerSubmitted) && registerForm.controls['name'].invalid">
                    <label for="registerName">Nombre y apellidos</label>
                    <div class="invalid-feedback" *ngIf="registerForm.controls['name'].invalid && (registerForm.controls['name'].touched || registerSubmitted)">
                        <div *ngIf="registerForm.controls['name'].errors?.['required']">El nombre es obligatorio</div>
                    </div>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="registerPhone" formControlName="phone" name="phone" [class.is-invalid]="(registerForm.controls['phone'].touched || registerSubmitted) && registerForm.controls['phone'].invalid">
                    <label for="registerPhone">Teléfono</label>
                    <div class="invalid-feedback" *ngIf="registerForm.controls['phone'].invalid && (registerForm.controls['phone'].touched || registerSubmitted)">
                        <div *ngIf="registerForm.controls['phone'].errors?.['required']">El número de teléfono es obligatorio</div>
                        <div *ngIf="registerForm.controls['phone'].errors?.['pattern']">El número de telefono no es válido</div>
                    </div>
                </div>
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="registerPassword" formControlName="password" name="password" [class.is-invalid]="(registerForm.controls['password'].touched || registerSubmitted) && registerForm.controls['password'].invalid">
                    <label for="registerPassword">Contraseña</label>
                    <div class="invalid-feedback" *ngIf="registerForm.controls['password'].invalid && (registerForm.controls['password'].touched || registerSubmitted)">
                        <div *ngIf="registerForm.controls['password'].errors?.['required']">Introduzca una contraseña</div>
                        <div *ngIf="registerForm.controls['password'].errors?.['complexity']">La contraseña debe tener al menos 8 dígitos, una letra mayuscula, una minuscula, un número y un símbolo (!&#64;#$%^&*)</div>
                    </div>
                    <!--<div class="input-group-addon">
                        <a href=""><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
                    </div>-->
                </div>
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="registerPassword2" formControlName="password2" name="password2" [class.is-invalid]="(registerForm.controls['password2'].touched || registerSubmitted) && registerForm.controls['password2'].invalid">
                    <label for="registerPassword2">Repite la contraseña</label>
                    <div class="invalid-feedback" *ngIf="registerForm.controls['password2'].invalid && (registerForm.controls['password2'].touched || registerSubmitted)">
                        <div *ngIf="registerForm.controls['password2'].errors?.['required']">Debe repetir la contraseña</div>
                        <div *ngIf="registerForm.controls['password2'].errors?.['mustMatch']">Las contraseñas no coinciden</div>
                    </div>
                    <!--<div class="input-group-addon">
                        <a href=""><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
                    </div>-->
                </div>
                <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" id="registerTerms" formControlName="terms" name="terms" [class.is-invalid]="(registerForm.controls['terms'].touched || registerSubmitted) && registerForm.controls['terms'].invalid">
                    <label class="form-check-label" for="registerTerms">Acepto los <a routerLink="/privacy">términos</a> y <a routerLink="/use-condition">condiciones</a></label>
                    <div class="invalid-feedback" *ngIf="registerForm.controls['terms'].invalid && (registerForm.controls['terms'].touched || registerSubmitted)">
                        <div *ngIf="registerForm.controls['terms'].errors?.['required']">Debe aceptar los términos y condiciones</div>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">Registrarse</button>
            </form>
        </div>

        <div class="col" id="login" >
            <h2>Iniciar sesión</h2>
            <div *ngIf="loginError" class="alert alert-danger" role="alert">
                {{ loginError }}
            </div>
            <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="loginEmail" formControlName="loginEmail" name="email">
                    <label for="loginEmail">Correo electrónico</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="loginPassword" formControlName="loginPassword" name="password">
                    <label for="loginPassword">Contraseña</label>
                </div>
                <button type="submit" class="btn btn-primary">Iniciar sesión</button>
            </form>
        </div>
    </div>
  </div>